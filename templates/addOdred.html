{% extends 'base.html' %}

{% block title %}
{{ h1 }}
{% endblock %}

{% block content %}
<form action="#" method="post">
    <h1>{{ h1 }}</h1>
    <label>
        Naziv:
        <input type="text" name="name" placeholder="Naziv Odreda" value = "{{odred.name}}" required oninvalid="this.setCustomValidity('Unesite naziv odread')" oninput="this.setCustomValidity('')">
    </label>
    <label>
        Grad:
        <input type="text" name="city" placeholder="Beograd" value = "{{odred.city}}" required oninvalid="this.setCustomValidity('Unesite naziv grada')" oninput="this.setCustomValidity('')">
    </label>
    <label>
        Adresa:
        <input type="text" name="address" placeholder="Ulica i broj" value = "{{odred.address}}" required oninvalid="this.setCustomValidity('Unesite adresu odreda')" oninput="this.setCustomValidity('')">
    </label>
    <label>
        Email:
        <input type="email" name="email" placeholder="odred@izvidjaci.com" value = "{{odred.email}}" required oninvalid="this.setCustomValidity('Unesite adresu elektronske pošte odreda')" oninput="this.setCustomValidity('')">
    </label>
    <label>
        Datum osnivanja:
        <input type="date" name="founded_at" value = "{{odred.founded_at}}" required oninvalid="this.setCustomValidity('Unesite datum osnivanja odreda')" oninput="this.setCustomValidity('')">
    </label>
{% if odred.staresina %}
    <label>
        Starešina odreda:
        <select id="staresina_username" name="staresina_username">
            {% for clan in clanovi %}
                {% if odred.staresina.id != clan.id %}
                <option value="{{ clan.username }}">{{ clan.first_name }} {{ clan.last_name }}</option>
                {% else %}
                <option value="{{ clan.username }}" selected>{{ clan.first_name }} {{ clan.last_name }}</option>
                {% endif %}
            {% endfor %}
        </select>
    </label>
{% endif %}
{% if odred.nacelnik %}
    <label>
        Načelnik odreda:
        <select id="nacelnik_username" name="nacelnik_username">
            {% for clan in clanovi %}
                {% if odred.nacelnik.id != clan.id %}
                <option value="{{ clan.username }}">{{ clan.first_name }} {{ clan.last_name }}</option>
                {% else %}
                <option value="{{ clan.username }}" selected>{{ clan.first_name }} {{ clan.last_name }}</option>
                {% endif %}
            {% endfor %}
        </select>
    </label>
{% endif %}
    <label>
        Status:
        <select id="status" name="status" required>
            <option value="pridružen">Pridružen</option>
            {% if odred.status == "punopravan" %}
            <option value="punopravan" selected>Punopravan</option>
            {% else %}
            <option value="punopravan">Punopravan</option>
            {% endif %}
        </select>
    </label>
    
    <input type="submit" value="{{ h1 }}" class="btn">
    {% if h1 != "Dodaj odred" and odred.id != current_user.odred.id%}
    <a class = 'btn btn-link' href="{{ url_for('savez.deleteOdred', id=odred.id) }}" onclick="return confirm('Da li ste sigurni da želite da obrišete ovaj odred?');">Obriši odred</a>
    {% endif %}
    <a href="{{ url_for('savez.savezDashboard') }}" class="btn btn-link">
        Nazad
    </a>
</form>
{% endblock %}